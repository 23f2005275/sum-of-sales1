<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Sales Summary</title><link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"></head><body class="bg-gray-100 flex items-center justify-center min-h-screen p-4"><div class="bg-white p-8 rounded-lg shadow-lg max-w-5xl w-full text-left"><h1 class="text-3xl font-bold mb-6 text-gray-800 text-center">Sales Dashboard</h1><p class="text-gray-600 mb-4 text-center">Displaying sales data from <code class="bg-gray-200 px-1 rounded">data.csv</code></p><div id="dataTableContainer" class="overflow-x-auto mb-6"><p id="loadingMessage" class="text-center text-gray-500">Loading data...</p></div><div class="text-right border-t pt-4 mt-4"><p class="text-lg font-semibold text-gray-700">Total Sales:</p><div id="totalSales" class="text-5xl font-extrabold text-blue-600 mt-2">Loading...</div></div></div><script>document.addEventListener('DOMContentLoaded', () => {const totalSalesDiv = document.getElementById('totalSales');const dataTableContainer = document.getElementById('dataTableContainer');const loadingMessage = document.getElementById('loadingMessage');const seed = new Date().getFullYear();document.title = `Sales Summary ${seed}`;fetch('data.csv').then(response => {if (!response.ok) {throw new Error(`HTTP error! status: ${response.status}`);}return response.text();}).then(csvText => {loadingMessage.classList.add('hidden');const lines = csvText.trim().split('\n');if (lines.length <= 1) {dataTableContainer.innerHTML = '<p class="text-center text-gray-500">No data available.</p>';totalSalesDiv.textContent = '$0.00';return;}const headers = lines[0].split(',').map(h => h.trim());const salesColumnIndex = headers.indexOf('sales');const table = document.createElement('table');table.classList.add('min-w-full', 'divide-y', 'divide-gray-200');const thead = document.createElement('thead');thead.classList.add('bg-gray-50');const headerRow = document.createElement('tr');headers.forEach(headerText => {const th = document.createElement('th');th.classList.add('px-6', 'py-3', 'text-left', 'text-xs', 'font-medium', 'text-gray-500', 'uppercase', 'tracking-wider');th.textContent = headerText;headerRow.appendChild(th);});thead.appendChild(headerRow);table.appendChild(thead);const tbody = document.createElement('tbody');tbody.classList.add('bg-white', 'divide-y', 'divide-gray-200');let totalSales = 0;for (let i = 1; i < lines.length; i++) {const values = lines[i].split(',').map(v => v.trim());const tr = document.createElement('tr');values.forEach((value, index) => {const td = document.createElement('td');td.classList.add('px-6', 'py-4', 'whitespace-nowrap', 'text-sm', 'text-gray-900');td.textContent = value;if (index === salesColumnIndex) {td.classList.add('text-right', 'font-medium', 'text-blue-600');const salesValue = parseFloat(value);if (!isNaN(salesValue)) {totalSales += salesValue;}}tr.appendChild(td);});tbody.appendChild(tr);}table.appendChild(tbody);dataTableContainer.appendChild(table);if (salesColumnIndex === -1) {totalSalesDiv.textContent = 'N/A (Sales column not found)';totalSalesDiv.classList.add('text-red-500', 'text-xl');console.error("CSV does not contain a 'sales' column.");} else {totalSalesDiv.textContent = `$${totalSales.toFixed(2)}`;}}).catch(error => {console.error('Error fetching or parsing CSV:', error);loadingMessage.textContent = 'Error loading data.';loadingMessage.classList.remove('hidden');loadingMessage.classList.add('text-red-500');totalSalesDiv.textContent = 'Error loading data';totalSalesDiv.classList.add('text-red-500');});});</script></body></html>